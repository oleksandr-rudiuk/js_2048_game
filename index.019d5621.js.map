{"mappings":"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","sources":["<anon>","src/scripts/main.js"],"sourcesContent":["(function () {\nvar $197cd56b15c33885$exports = {};\n\"use strict\";\nvar $197cd56b15c33885$var$cells = document.querySelectorAll(\".field-cell\");\nvar $197cd56b15c33885$var$startMessage = document.getElementsByClassName(\"message message-start\");\nvar $197cd56b15c33885$var$win = document.getElementsByClassName(\"message message-win\");\nvar $197cd56b15c33885$var$lose = document.getElementsByClassName(\"message message-lose\");\nvar $197cd56b15c33885$var$button = document.querySelector(\".button\");\nvar $197cd56b15c33885$var$gameScore = document.getElementsByClassName(\"game-score\");\nfunction $197cd56b15c33885$var$fillCells() {\n    $197cd56b15c33885$var$initialState.forEach(function(element, i) {\n        element.forEach(function(value, j) {\n            var cell = $197cd56b15c33885$var$cells[i * 4 + j];\n            cell.textContent = value > 0 ? value : \"\";\n            cell.className = \"field-cell field-cell--\".concat(value);\n        });\n    });\n}\nvar $197cd56b15c33885$var$initialState = [\n    [\n        0,\n        0,\n        0,\n        0\n    ],\n    [\n        0,\n        0,\n        0,\n        0\n    ],\n    [\n        0,\n        0,\n        0,\n        0\n    ],\n    [\n        0,\n        0,\n        0,\n        0\n    ]\n];\nvar $197cd56b15c33885$var$score = 0;\nvar $197cd56b15c33885$var$stat = \"idle\";\nvar $197cd56b15c33885$var$result = [];\nvar $197cd56b15c33885$var$row = [];\nvar $197cd56b15c33885$var$addTwo = 2;\nvar $197cd56b15c33885$var$canMove = false;\nfunction $197cd56b15c33885$var$moveLeft() {\n    for(var i = 0; i < $197cd56b15c33885$var$initialState.length; i++){\n        $197cd56b15c33885$var$row = $197cd56b15c33885$var$initialState[i];\n        $197cd56b15c33885$var$moveCells();\n        $197cd56b15c33885$var$initialState[i] = $197cd56b15c33885$var$result;\n        $197cd56b15c33885$var$result = [];\n    }\n    $197cd56b15c33885$var$getState();\n    $197cd56b15c33885$var$fillCells();\n    $197cd56b15c33885$var$gameScore[0].innerHTML = \"\".concat($197cd56b15c33885$var$score);\n}\nfunction $197cd56b15c33885$var$moveRight() {\n    for(var i = 0; i < $197cd56b15c33885$var$initialState.length; i++){\n        $197cd56b15c33885$var$row = $197cd56b15c33885$var$initialState[i].reverse();\n        $197cd56b15c33885$var$moveCells();\n        $197cd56b15c33885$var$initialState[i] = $197cd56b15c33885$var$result.reverse();\n        $197cd56b15c33885$var$result = [];\n    }\n    $197cd56b15c33885$var$getState();\n    $197cd56b15c33885$var$fillCells();\n    $197cd56b15c33885$var$gameScore[0].innerHTML = \"\".concat($197cd56b15c33885$var$score);\n}\nfunction $197cd56b15c33885$var$moveUp() {\n    for(var i = 0; i < $197cd56b15c33885$var$initialState.length; i++){\n        $197cd56b15c33885$var$row = [\n            $197cd56b15c33885$var$initialState[0][i],\n            $197cd56b15c33885$var$initialState[1][i],\n            $197cd56b15c33885$var$initialState[2][i],\n            $197cd56b15c33885$var$initialState[3][i]\n        ];\n        $197cd56b15c33885$var$moveCells();\n        $197cd56b15c33885$var$initialState[0][i] = $197cd56b15c33885$var$result[0];\n        $197cd56b15c33885$var$initialState[1][i] = $197cd56b15c33885$var$result[1];\n        $197cd56b15c33885$var$initialState[2][i] = $197cd56b15c33885$var$result[2];\n        $197cd56b15c33885$var$initialState[3][i] = $197cd56b15c33885$var$result[3];\n        $197cd56b15c33885$var$result = [];\n    }\n    $197cd56b15c33885$var$getState();\n    $197cd56b15c33885$var$fillCells();\n    $197cd56b15c33885$var$gameScore[0].innerHTML = \"\".concat($197cd56b15c33885$var$score);\n}\nfunction $197cd56b15c33885$var$moveDown() {\n    for(var i = 0; i < $197cd56b15c33885$var$initialState.length; i++){\n        var column = [\n            $197cd56b15c33885$var$initialState[0][i],\n            $197cd56b15c33885$var$initialState[1][i],\n            $197cd56b15c33885$var$initialState[2][i],\n            $197cd56b15c33885$var$initialState[3][i]\n        ];\n        $197cd56b15c33885$var$row = column.reverse();\n        $197cd56b15c33885$var$moveCells();\n        column = $197cd56b15c33885$var$result.reverse();\n        $197cd56b15c33885$var$initialState[0][i] = column[0];\n        $197cd56b15c33885$var$initialState[1][i] = column[1];\n        $197cd56b15c33885$var$initialState[2][i] = column[2];\n        $197cd56b15c33885$var$initialState[3][i] = column[3];\n        $197cd56b15c33885$var$result = [];\n    }\n    $197cd56b15c33885$var$getState();\n    $197cd56b15c33885$var$fillCells();\n    $197cd56b15c33885$var$gameScore[0].innerHTML = \"\".concat($197cd56b15c33885$var$score);\n}\nfunction $197cd56b15c33885$var$getState() {\n    var arrayOfZero = [];\n    var countZero = 0;\n    $197cd56b15c33885$var$initialState.forEach(function(item, i) {\n        item.forEach(function(value, j) {\n            if (value === 0) {\n                var coords = {};\n                coords.x = i;\n                coords.y = j;\n                arrayOfZero.push(coords);\n                countZero++;\n            }\n            if (value === 2048) {\n                $197cd56b15c33885$var$stat = \"win\";\n                $197cd56b15c33885$var$win[0].classList.remove(\"hidden\");\n                $197cd56b15c33885$var$canMove = false;\n            }\n        });\n    });\n    if (countZero === 0 && $197cd56b15c33885$var$canMove === false) {\n        $197cd56b15c33885$var$stat = \"lose\";\n        $197cd56b15c33885$var$lose[0].classList.remove(\"hidden\");\n    }\n    if ($197cd56b15c33885$var$canMove === true) {\n        var _loop = function(i1) {\n            var addX = Math.floor(Math.random() * 4);\n            var addY = Math.floor(Math.random() * 4);\n            var checkCompare = arrayOfZero.find(function(coord) {\n                return coord.x === addX && coord.y === addY;\n            });\n            if (checkCompare === undefined) i1--;\n            else {\n                $197cd56b15c33885$var$initialState[\"\".concat(addX)][\"\".concat(addY)] = $197cd56b15c33885$var$addTwo;\n                $197cd56b15c33885$var$score += $197cd56b15c33885$var$addTwo;\n            }\n            i = i1, void 0;\n        };\n        $197cd56b15c33885$var$addTwoOrFour();\n        if (arrayOfZero.length <= 2) {\n            var addX = arrayOfZero[0].x;\n            var addY = arrayOfZero[0].y;\n            $197cd56b15c33885$var$initialState[\"\".concat(addX)][\"\".concat(addY)] = $197cd56b15c33885$var$addTwo;\n            $197cd56b15c33885$var$score += $197cd56b15c33885$var$addTwo;\n        } else for(var i = 0; i < 1; i++)_loop(i);\n    }\n    $197cd56b15c33885$var$canMove = false;\n    return $197cd56b15c33885$var$initialState;\n}\nfunction $197cd56b15c33885$var$start() {\n    $197cd56b15c33885$var$restart();\n}\nfunction $197cd56b15c33885$var$restart() {\n    $197cd56b15c33885$var$stat = \"playing\";\n    $197cd56b15c33885$var$initialState = [\n        [\n            0,\n            0,\n            0,\n            0\n        ],\n        [\n            0,\n            0,\n            0,\n            0\n        ],\n        [\n            0,\n            0,\n            0,\n            0\n        ],\n        [\n            0,\n            0,\n            0,\n            0\n        ]\n    ];\n    $197cd56b15c33885$var$score = 0;\n    $197cd56b15c33885$var$newAdd();\n}\nfunction $197cd56b15c33885$var$moveCells() {\n    var withoutZero = $197cd56b15c33885$var$row.filter(function(item, index) {\n        return item !== 0;\n    });\n    for(var j = 0; j < withoutZero.length; j++)if (withoutZero[j] !== 0 && withoutZero[j] === withoutZero[j + 1]) {\n        withoutZero[j] = withoutZero[j] * 2;\n        withoutZero[j + 1] = withoutZero[j + 2] || 0;\n        if (j + 2 < withoutZero.length) withoutZero[j + 2] = withoutZero[j + 3] || 0;\n        withoutZero[withoutZero.length - 1] = 0;\n        $197cd56b15c33885$var$result.push(withoutZero[j]);\n        $197cd56b15c33885$var$canMove = true;\n    } else $197cd56b15c33885$var$result.push(withoutZero[j]);\n    for(var i = $197cd56b15c33885$var$result.length; i < 4; i++)$197cd56b15c33885$var$result.push(0);\n    if ($197cd56b15c33885$var$canMove === false) {\n        var checkMove = 0;\n        var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n        try {\n            for(var _iterator = $197cd56b15c33885$var$row[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                var ch = _step.value;\n                if (ch === 0) checkMove++;\n                if (ch !== 0 && checkMove !== 0) $197cd56b15c33885$var$canMove = true;\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally{\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return != null) {\n                    _iterator.return();\n                }\n            } finally{\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n    }\n    return $197cd56b15c33885$var$result;\n}\nfunction $197cd56b15c33885$var$addTwoOrFour() {\n    var addRandom = Math.floor(Math.random() * 10);\n    if (addRandom <= 1) $197cd56b15c33885$var$addTwo = 4;\n    return $197cd56b15c33885$var$addTwo;\n}\nfunction $197cd56b15c33885$var$newAdd() {\n    $197cd56b15c33885$var$addTwoOrFour();\n    var addX = Math.floor(Math.random() * 4);\n    var addY = Math.floor(Math.random() * 4);\n    $197cd56b15c33885$var$initialState[\"\".concat(addX)][\"\".concat(addY)] = $197cd56b15c33885$var$addTwo;\n    $197cd56b15c33885$var$score += $197cd56b15c33885$var$addTwo;\n    for(var i = 0; i < 1; i++){\n        $197cd56b15c33885$var$addTwoOrFour();\n        var addXx = Math.floor(Math.random() * 4);\n        var addYy = Math.floor(Math.random() * 4);\n        if (addX === addXx || addY === addYy) i--;\n        else {\n            $197cd56b15c33885$var$initialState[\"\".concat(addXx)][\"\".concat(addYy)] = $197cd56b15c33885$var$addTwo;\n            $197cd56b15c33885$var$score += $197cd56b15c33885$var$addTwo;\n        }\n    }\n}\n$197cd56b15c33885$var$button.addEventListener(\"click\", function(eventOne) {\n    $197cd56b15c33885$var$button.innerHTML = \"Restart\";\n    $197cd56b15c33885$var$button.className = \"button restart\";\n    $197cd56b15c33885$var$startMessage[0].classList.add(\"hidden\");\n    $197cd56b15c33885$var$start();\n    $197cd56b15c33885$var$fillCells($197cd56b15c33885$var$initialState);\n    $197cd56b15c33885$var$gameScore[0].innerHTML = \"\".concat($197cd56b15c33885$var$score);\n});\ndocument.addEventListener(\"keydown\", function(eventTwo) {\n    if ($197cd56b15c33885$var$stat === \"playing\") switch(eventTwo.code){\n        case \"ArrowLeft\":\n            $197cd56b15c33885$var$moveLeft();\n            break;\n        case \"ArrowRight\":\n            $197cd56b15c33885$var$moveRight();\n            break;\n        case \"ArrowUp\":\n            $197cd56b15c33885$var$moveUp();\n            break;\n        case \"ArrowDown\":\n            $197cd56b15c33885$var$moveDown();\n            break;\n    }\n});\n\n})();\n//# sourceMappingURL=index.019d5621.js.map\n","'use strict';\n\nconst cells = document.querySelectorAll('.field-cell');\nconst startMessage = document.getElementsByClassName('message message-start');\nconst win = document.getElementsByClassName('message message-win');\nconst lose = document.getElementsByClassName('message message-lose');\nconst button = document.querySelector('.button');\nconst gameScore = document.getElementsByClassName('game-score');\n\nfunction fillCells() {\n  initialState.forEach((element, i) => {\n    element.forEach((value, j) => {\n      const cell = cells[i * 4 + j];\n\n      cell.textContent = value > 0 ? value : '';\n      cell.className = `field-cell field-cell--${value}`;\n    });\n  });\n}\n\nlet initialState\n  = [[0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0]];\n\nlet score = 0;\nlet stat = 'idle';\nlet result = [];\nlet row = [];\nlet addTwo = 2;\nlet canMove = false;\n\nfunction moveLeft() {\n  for (let i = 0; i < initialState.length; i++) {\n    row = initialState[i];\n    moveCells();\n\n    initialState[i] = result;\n    result = [];\n  }\n\n  getState();\n  fillCells();\n  gameScore[0].innerHTML = `${score}`;\n}\n\nfunction moveRight() {\n  for (let i = 0; i < initialState.length; i++) {\n    row = initialState[i].reverse();\n    moveCells();\n\n    initialState[i] = result.reverse();\n    result = [];\n  }\n\n  getState();\n  fillCells();\n  gameScore[0].innerHTML = `${score}`;\n}\n\nfunction moveUp() {\n  for (let i = 0; i < initialState.length; i++) {\n    row\n      = [initialState[0][i],\n        initialState[1][i],\n        initialState[2][i],\n        initialState[3][i]];\n    moveCells();\n\n    initialState[0][i] = result[0];\n    initialState[1][i] = result[1];\n    initialState[2][i] = result[2];\n    initialState[3][i] = result[3];\n\n    result = [];\n  }\n\n  getState();\n  fillCells();\n  gameScore[0].innerHTML = `${score}`;\n}\n\nfunction moveDown() {\n  for (let i = 0; i < initialState.length; i++) {\n    let column\n      = [initialState[0][i],\n        initialState[1][i],\n        initialState[2][i],\n        initialState[3][i]];\n\n    row = column.reverse();\n    moveCells();\n\n    column = result.reverse();\n    initialState[0][i] = column[0];\n    initialState[1][i] = column[1];\n    initialState[2][i] = column[2];\n    initialState[3][i] = column[3];\n\n    result = [];\n  }\n\n  getState();\n  fillCells();\n  gameScore[0].innerHTML = `${score}`;\n}\n\nfunction getState() {\n  const arrayOfZero = [];\n  let countZero = 0;\n\n  initialState.forEach((item, i) => {\n    item.forEach((value, j) => {\n      if (value === 0) {\n        const coords = {};\n\n        coords.x = i;\n        coords.y = j;\n        arrayOfZero.push(coords);\n        countZero++;\n      }\n\n      if (value === 2048) {\n        stat = 'win';\n        win[0].classList.remove('hidden');\n        canMove = false;\n      }\n    });\n  });\n\n  if (countZero === 0 && canMove === false) {\n    stat = 'lose';\n    lose[0].classList.remove('hidden');\n  }\n\n  if (canMove === true) {\n    addTwoOrFour();\n\n    if (arrayOfZero.length <= 2) {\n      const addX = arrayOfZero[0].x;\n      const addY = arrayOfZero[0].y;\n\n      initialState[`${addX}`][`${addY}`] = addTwo;\n      score += addTwo;\n    } else {\n      for (let i = 0; i < 1; i++) {\n        const addX = Math.floor(Math.random() * 4);\n        const addY = Math.floor(Math.random() * 4);\n        const checkCompare = arrayOfZero.find(coord => {\n          return coord.x === addX && coord.y === addY;\n        });\n\n        if (checkCompare === undefined) {\n          i--;\n        } else {\n          initialState[`${addX}`][`${addY}`] = addTwo;\n          score += addTwo;\n        }\n      }\n    }\n  }\n\n  canMove = false;\n\n  return initialState;\n}\n\nfunction start() {\n  restart();\n}\n\nfunction restart() {\n  stat = 'playing';\n\n  initialState\n    = [[0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0]];\n  score = 0;\n  newAdd();\n}\n\nfunction moveCells() {\n  const withoutZero = row.filter((item, index) => {\n    return item !== 0;\n  });\n\n  for (let j = 0; j < withoutZero.length; j++) {\n    if (withoutZero[j] !== 0 && withoutZero[j] === withoutZero[j + 1]) {\n      withoutZero[j] = withoutZero[j] * 2;\n      withoutZero[j + 1] = withoutZero[j + 2] || 0;\n\n      if ((j + 2) < withoutZero.length) {\n        withoutZero[j + 2] = withoutZero[j + 3] || 0;\n      }\n      withoutZero[withoutZero.length - 1] = 0;\n      result.push(withoutZero[j]);\n      canMove = true;\n    } else {\n      result.push(withoutZero[j]);\n    }\n  }\n\n  for (let i = result.length; i < 4; i++) {\n    result.push(0);\n  }\n\n  if (canMove === false) {\n    let checkMove = 0;\n\n    for (const ch of row) {\n      if (ch === 0) {\n        checkMove++;\n      }\n\n      if (ch !== 0 && checkMove !== 0) {\n        canMove = true;\n      }\n    }\n  }\n\n  return result;\n}\n\nfunction addTwoOrFour() {\n  const addRandom = Math.floor(Math.random() * 10);\n\n  if (addRandom <= 1) {\n    addTwo = 4;\n  }\n\n  return addTwo;\n}\n\nfunction newAdd() {\n  addTwoOrFour();\n\n  const addX = Math.floor(Math.random() * 4);\n  const addY = Math.floor(Math.random() * 4);\n\n  initialState[`${addX}`][`${addY}`] = addTwo;\n  score += addTwo;\n\n  for (let i = 0; i < 1; i++) {\n    addTwoOrFour();\n\n    const addXx = Math.floor(Math.random() * 4);\n    const addYy = Math.floor(Math.random() * 4);\n\n    if (addX === addXx || addY === addYy) {\n      i--;\n    } else {\n      initialState[`${addXx}`][`${addYy}`] = addTwo;\n      score += addTwo;\n    }\n  }\n}\n\nbutton.addEventListener('click', eventOne => {\n  button.innerHTML = 'Restart';\n  button.className = 'button restart';\n  startMessage[0].classList.add('hidden');\n  start();\n  fillCells(initialState);\n  gameScore[0].innerHTML = `${score}`;\n});\n\ndocument.addEventListener('keydown', eventTwo => {\n  if (stat === 'playing') {\n    switch (eventTwo.code) {\n      case 'ArrowLeft':\n        moveLeft();\n        break;\n      case 'ArrowRight':\n        moveRight();\n        break;\n      case 'ArrowUp':\n        moveUp();\n        break;\n      case 'ArrowDown':\n        moveDown();\n        break;\n    }\n  }\n});\n"],"names":["$197cd56b15c33885$var$cells","document","querySelectorAll","$197cd56b15c33885$var$startMessage","getElementsByClassName","$197cd56b15c33885$var$win","$197cd56b15c33885$var$lose","$197cd56b15c33885$var$button","querySelector","$197cd56b15c33885$var$gameScore","$197cd56b15c33885$var$fillCells","$197cd56b15c33885$var$initialState","forEach","element","i","value","j","cell","textContent","className","concat","$197cd56b15c33885$var$score","$197cd56b15c33885$var$stat","$197cd56b15c33885$var$result","$197cd56b15c33885$var$row","$197cd56b15c33885$var$addTwo","$197cd56b15c33885$var$canMove","$197cd56b15c33885$var$getState","arrayOfZero","countZero","item","coords","x","y","push","classList","remove","$197cd56b15c33885$var$addTwoOrFour","length","addX","addY","_loop","i1","Math","floor","random","checkCompare","undefined","find","coord","$197cd56b15c33885$var$moveCells","withoutZero","filter","index","checkMove","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","ch","err","return","addEventListener","eventOne","innerHTML","add","$197cd56b15c33885$var$newAdd","addXx","addYy","eventTwo","code","$197cd56b15c33885$var$moveLeft","$197cd56b15c33885$var$moveRight","reverse","$197cd56b15c33885$var$moveUp","$197cd56b15c33885$var$moveDown","column"],"version":3,"file":"index.019d5621.js.map"}